# 最优点的一阶充要条件

若目标函数可微，则一个可行点是最优的充要条件为：任意其他可行点到此点的向量与其梯度的内积大于零：
$$ \langle \nabla f(x), y-x \rangle \geq 0 \quad \forall y\in C $$
称之为最优性的一阶条件。

从直观上看，当 $y-x=h>0$ 为单位向量时，其与梯度的内积等于梯度的模乘上两者夹角的余弦值 $\|\nabla f(x)\|\cos\theta$，为目标函数在此方向的方向导数。若大于零，代表目标函数从 $x$ 的方向向 $y$ 走是增加的，即任意其他可行点的目标函数值大于这一点的。



**充分性**：
由[[凸函数的一阶特征]]可知
$$f(y)\geq f(x)+\nabla f(x)^\top (y-x)\geq f(x),\ \forall y$$

**必要性**：
假设 $x$ 是一个最优解，$y$ 是一个可行点。还是考虑其凸组合 $x+t(y-x)$，由 [[Taylor展开]]可得
$$ f(x+t(y-x))=f(x)+[\nabla f(x)^\top (y-x)]t + o(t) $$
若 $\langle \nabla f(x), y-x \rangle < 0$，则当 $t$ 足够小的时候，可以得到 $|\nabla f(x)^\top (y-x)|t >o(t)$，故 $f(x+t(y-x))<f(x)$。这与 $x$ 的最优性相悖。 


特例：若可行点集为整个空间（即无约束限制），则最优点的条件为 $\nabla f(x)=0$。